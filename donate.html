<!DOCTYPE html>
<html>
<head>
    <title>–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ù–æ—Ä–º–∏–∫ –ß–µ–ª–∞</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }
        input, button { padding: 10px; margin: 10px; font-size: 16px; }
    </style>
</head>
<body>
    <h1>–ó–∞–∫–∏–Ω—å –±—Ä–∞—Ç—é–Ω–µ –Ω–∞ –ø–µ—á–µ–Ω—å–∫–∏! üç™</h1>
    
    <form id="donateForm">
        <input type="number" id="amount" placeholder="–°—É–º–º–∞ (—Ä—É–±)" min="1" required>
        <input type="text" id="message" placeholder="–¢–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
        <br>
        <button type="submit">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å!</button>
    </form>
    
    <p id="messageEl"></p>

    <script>
        document.getElementById('donateForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const amount = document.getElementById('amount').value;
            const message = document.getElementById('message').value || '–î–æ–Ω–∞—Ç –æ—Ç –∞–Ω–æ–Ω–∏–º–∞';
            
            // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            const client_id = '6F6E7CF4814C90EBF49DC5379FAA8BFC83712673EB19B1E7A2149F880053AB91';
            const redirect_uri = 'https://normik-chel.github.io/success.html';
            const scope = 'payment.to-account("4100118102354545").limit(,' + amount + ')';
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º URL –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            const authUrl = new URL('https://yoomoney.ru/oauth/authorize');
            authUrl.searchParams.append('client_id', client_id);
            authUrl.searchParams.append('response_type', 'code');
            authUrl.searchParams.append('redirect_uri', redirect_uri);
            authUrl.searchParams.append('scope', scope);
            authUrl.searchParams.append('state', message); // –ü–µ—Ä–µ–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ state
            
            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ÆMoney
            window.location.href = authUrl.toString();
        });
    </script>
</body>
</html>
