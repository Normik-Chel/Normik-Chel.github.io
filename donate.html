<!DOCTYPE html>
<html>
<head>
    <title>–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ù–æ—Ä–º–∏–∫ –ß–µ–ª–∞</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'">
    <noscript><meta http-equiv="refresh" content="0; url=https://normik-chel.github.io"></noscript>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="cookie-emoji">üç™</div>
            <h1 class="glow-text">–ó–∞–∫–∏–Ω—å –±—Ä–∞—Ç—é–Ω–µ –Ω–∞ –ø–µ—á–µ–Ω—å–∫–∏!</h1>
            <p>–¢–≤–æ—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –ª—É—á—à–µ!</p>
        </div>

        <form id="dForm">
            <div class="form-group">
                <label for="name">–¢–≤–æ–µ –∏–º—è:</label>
                <input type="text" id="name" class="form-input" placeholder="–ö–∞–∫ –∫ —Ç–µ–±–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è?" required>
            </div>

            <div class="form-group">
                <label for="amt">–°—É–º–º–∞ –¥–æ–Ω–∞—Ç–∞:</label>
                <input type="number" id="amt" class="form-input" placeholder="–°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π?" min="1" required 
                       oninput="this.value=this.value.replace(/[^0-9]/g,'')">
            </div>

            <div class="form-group">
                <label for="msg">–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–∏–º–∞:</label>
                <input type="text" id="msg" class="form-input" placeholder="–ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —Å—Ç—Ä–∏–º–µ?" maxlength="50">
            </div>

            <button type="submit" class="btn">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å! üöÄ</button>
        </form>

        <p class="anti-dev-message">–î–µ–≤–∞–π—Å—ã –Ω–µ –ø—Ä–æ–π–¥—É—Ç! üòé</p>
    </div>

    <script>
        !function(){
            // –ê–Ω—Ç–∏-dev –∑–∞—â–∏—Ç–∞
            if(window.self !== window.top || window.location.hostname !== 'normik-chel.github.io') {
                window.location.href = 'https://normik-chel.github.io';
                return;
            }
            
            // –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                document.querySelector('.anti-dev-message').style.display = 'block';
                return false;
            });
            
            document.addEventListener('keydown', function(e) {
                if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73) || 
                   (e.ctrlKey && e.keyCode == 85)) {
                    e.preventDefault();
                    document.querySelector('.anti-dev-message').style.display = 'block';
                    setTimeout(() => {
                        document.querySelector('.anti-dev-message').style.display = 'none';
                    }, 3000);
                    return false;
                }
            });
            
            // –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
            document.getElementById('dForm').addEventListener('submit', function(e) {
                e.preventDefault();
                var name = document.getElementById('name').value;
                var amount = document.getElementById('amt').value;
                var message = document.getElementById('msg').value || '–ó–∞ —á–∏–ª–ª—É—Ö—É!';
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                var donationData = {
                    name: name,
                    amount: amount,
                    message: message,
                    timestamp: Date.now(),
                    status: 'pending'
                };
                
                localStorage.setItem('lastDonation', JSON.stringify(donationData));
                localStorage.setItem('donationAmount', amount);
                
                var authUrl = new URL('https://yoomoney.ru/oauth/authorize');
                authUrl.searchParams.append('client_id', '6F6E7CF4814C90EBF49DC5379FAA8BFC83712673EB19B1E7A2149F880053AB91');
                authUrl.searchParams.append('response_type', 'code');
                authUrl.searchParams.append('redirect_uri', 'https://normik-chel.github.io/success.html');
                authUrl.searchParams.append('scope', 'payment.to-account("4100118296048272").limit(,' + amount + ')');
                authUrl.searchParams.append('state', name + '||' + message);
                
                window.location.href = authUrl.toString();
            });
        }();
    </script>
</body>
</html>
