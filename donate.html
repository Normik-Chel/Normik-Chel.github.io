<!DOCTYPE html>
<html>
<head>
    <title>–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ù–æ—Ä–º–∏–∫ –ß–µ–ª–∞</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://js.hcaptcha.com">
    <noscript><meta http-equiv="refresh" content="0; url=https://normik-chel.github.io"></noscript>
    <link rel="stylesheet" href="style.css">
    <style>
        .anti-dev-message {
            display: none;
            color: red;
            font-weight: bold;
            margin-top: 20px;
            text-align: center;
            animation: blink 1s linear infinite;
        }
        
        #captcha-container {
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        @keyframes blink {
            50% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="cookie-emoji">üç™</div>
            <h1 class="glow-text">–ó–∞–∫–∏–Ω—å –±—Ä–∞—Ç—é–Ω–µ –Ω–∞ –ø–µ—á–µ–Ω—å–∫–∏!</h1>
            <p>–¢–≤–æ—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç –¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –ª—É—á—à–µ!</p>
        </div>

        <form id="dForm">
            <div class="form-group">
                <label for="name">–¢–≤–æ–µ –∏–º—è:</label>
                <input type="text" id="name" class="form-input" placeholder="–ö–∞–∫ –∫ —Ç–µ–±–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è?" required>
            </div>

            <div class="form-group">
                <label for="amt">–°—É–º–º–∞ –¥–æ–Ω–∞—Ç–∞:</label>
                <input type="number" id="amt" class="form-input" placeholder="–°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π?" min="1" required 
                       oninput="this.value=this.value.replace(/[^0-9]/g,'')">
            </div>

            <div class="form-group">
                <label for="msg">–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–∏–º–∞:</label>
                <input type="text" id="msg" class="form-input" placeholder="–ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —Å—Ç—Ä–∏–º–µ?" maxlength="50">
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞–ø—á–∏ -->
            <div id="captcha-container" class="h-captcha" data-sitekey="dec03b44-1666-4bea-a934-21e45bf0036c"></div>

            <button type="submit" class="btn" id="donate-btn" disabled>–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å! üöÄ</button>
        </form>

        <p class="anti-dev-message">–î–µ–≤–∞–π—Å—ã –Ω–µ –ø—Ä–æ–π–¥—É—Ç! üòé</p>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º hCaptcha -->
    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>

    <script>
        !function(){
            // –ê–Ω—Ç–∏-dev –∑–∞—â–∏—Ç–∞ - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ iframe –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            if(window.self !== window.top || window.location.hostname !== 'normik-chel.github.io') {
                window.location.href = 'https://normik-chel.github.io';
                return;
            }
            
            // –ó–∞–ø—Ä–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            });
            
            // –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
            document.addEventListener('selectstart', function(e) {
                e.preventDefault();
                return false;
            });
            
            // –ó–∞–ø—Ä–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            document.addEventListener('copy', function(e) {
                e.preventDefault();
                return false;
            });
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ü–ö–ú
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                showAntiDevMessage();
                return false;
            });
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–ª–∞–≤–∏—à
            document.addEventListener('keydown', function(e) {
                // F12, Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+C, Ctrl+Shift+J, Ctrl+Shift+U
                if(e.keyCode == 123 || 
                  (e.ctrlKey && e.keyCode == 85) || 
                  (e.ctrlKey && e.shiftKey && e.keyCode == 73) ||
                  (e.ctrlKey && e.shiftKey && e.keyCode == 67) ||
                  (e.ctrlKey && e.shiftKey && e.keyCode == 74) ||
                  (e.ctrlKey && e.shiftKey && e.keyCode == 85)) {
                    e.preventDefault();
                    showAntiDevMessage();
                    return false;
                }
                
                // –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —á–µ—Ä–µ–∑ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞
                if (e.altKey && (e.keyCode == 82 || e.keyCode == 83 || e.keyCode == 85)) {
                    e.preventDefault();
                    showAntiDevMessage();
                    return false;
                }
            });
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ DevTools —á–µ—Ä–µ–∑ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è
            function detectDevTools() {
                var widthThreshold = 160;
                var heightThreshold = 160;
                var orientation = widthThreshold > heightThreshold ? 'vertical' : 'horizontal';
                
                function check() {
                    if (window.outerWidth - window.innerWidth > widthThreshold || 
                        window.outerHeight - window.innerHeight > heightThreshold) {
                        showAntiDevMessage();
                        window.location.href = 'https://normik-chel.github.io';
                    }
                }
                
                if (orientation === 'horizontal') {
                    setInterval(function() {
                        check();
                    }, 1000);
                }
            }
            
            // –ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è DevTools
            detectDevTools();
            
            // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            function showAntiDevMessage() {
                var message = document.querySelector('.anti-dev-message');
                message.style.display = 'block';
                setTimeout(function() {
                    message.style.display = 'none';
                }, 3000);
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–∞–ø—á–∏
            window.onCaptchaSuccess = function(token) {
                document.getElementById('donate-btn').disabled = false;
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫–∞–ø—á–∏
            window.onCaptchaExpired = function() {
                document.getElementById('donate-btn').disabled = true;
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–∫–∏ –∫–∞–ø—á–∏
            window.onCaptchaError = function() {
                document.getElementById('donate-btn').disabled = true;
            }
            
            // –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ–Ω–∞—Ç–æ–≤
            document.getElementById('dForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–æ–π–¥–µ–Ω–∞ –ª–∏ –∫–∞–ø—á–∞
                if (document.getElementById('donate-btn').disabled) {
                    alert('–ë—Ä–∞—Ç–∞–Ω, –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É!');
                    return;
                }
                
                var name = document.getElementById('name').value;
                var amount = document.getElementById('amt').value;
                var message = document.getElementById('msg').value || '–ó–∞ —á–∏–ª–ª—É—Ö—É!';
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                var donationData = {
                    name: name,
                    amount: amount,
                    message: message,
                    timestamp: Date.now(),
                    status: 'pending'
                };
                
                localStorage.setItem('lastDonation', JSON.stringify(donationData));
                localStorage.setItem('donationAmount', amount);
                
                var authUrl = new URL('https://yoomoney.ru/oauth/authorize');
                authUrl.searchParams.append('client_id', '6F6E7CF4814C90EBF49DC5379FAA8BFC83712673EB19B1E7A2149F880053AB91');
                authUrl.searchParams.append('response_type', 'code');
                authUrl.searchParams.append('redirect_uri', 'https://normik-chel.github.io/success.html');
                authUrl.searchParams.append('scope', 'payment.to-account("4100118296048272").limit(,' + amount + ')');
                authUrl.searchParams.append('state', name + '||' + message);
                
                window.location.href = authUrl.toString();
            });
        }();
    </script>
</body>
</html>
